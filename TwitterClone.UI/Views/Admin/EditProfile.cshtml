@model TwitterClone.UI.Models.User

<h4 class="pl-3">Update Profile Details</h4>
<hr />
@if (!ViewData.ModelState.IsValid)
{
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
}

    @using (Html.BeginForm("Update", "Admin",FormMethod.Post,new { @id="edit-profile-form"}))
    {
        @Html.AntiForgeryToken()
        <div class="form-horizontal col-md-8">
                <div class="form-group row">
                    @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", @readonly= "readonly"} })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", @type = "password" ,@placeholder="password", @required = "required" } })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.FullName, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.FullName, new { htmlAttributes = new { @class = "form-control", @maxlength = "50", @required = "required" } })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @type = "email",@required="required", @maxlength = "50" } })
                    </div>
                </div>
                <div class="form-group offset-2 pl-2 col-md-6">
                    <input id="save-profile" type="submit" value="Update Profile" class="btn btn-sm btn-info" />
                </div>
            <div id="deleteaccountDiv" class="form-group offset-2 col-md-6">
                <a id="deleteaccount" href="">Delete your account</a>
            </div>
       </div>
    }

<script>
    $(document).ready(function () {
        $('#deleteaccount').click(function () {
            var result = confirm('Are you sure want to delete the account?')
            if (result) {
                $('#deleteaccount').attr('href', '@Url.Action("DeleteAccount", "Admin", new { userid = Model.UserName })');
            }
        });
    });
</script>
    




